DROP TABLE WORKERS_FACTORY_1;
DROP TABLE AUDIT_ROBOT;
DROP TABLE SUPPLIERS_BRING_TO_FACTORY_1;
DROP TABLE SUPPLIERS_BRING_TO_FACTORY_2;
DROP TABLE ROBOTS_HAS_SPARE_PARTS;
DROP TABLE ROBOTS_FROM_FACTORY;
DROP TABLE WORKERS_FACTORY_2 ;
DROP TABLE FACTORIES;
DROP TABLE SPARE_PARTS;
DROP TABLE SUPPLIERS;
DROP TABLE ROBOTS;



CREATE TABLE FACTORIES (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    main_location VARCHAR2(255)
);

CREATE TABLE WORKERS_FACTORY_1 (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    first_name VARCHAR2(100),
    last_name VARCHAR2(100),
    age NUMBER,
    first_day DATE,
    last_day DATE
);

CREATE TABLE WORKERS_FACTORY_2 (
    worker_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    first_name VARCHAR2(100),
    last_name VARCHAR2(100),
    start_date DATE,
    end_date DATE
);

CREATE TABLE SUPPLIERS (
    supplier_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR2(100)
);

CREATE TABLE SPARE_PARTS (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    color VARCHAR2(10) CHECK(color in ('red', 'gray', 'black', 'blue', 'silver')),
    name VARCHAR2(100)
);

CREATE TABLE SUPPLIERS_BRING_TO_FACTORY_1 (
    supplier_id NUMBER REFERENCES suppliers(supplier_id),
    spare_part_id NUMBER REFERENCES spare_parts(id),
    delivery_date DATE,
    quantity NUMBER CHECK(quantity > 0)
);

CREATE TABLE SUPPLIERS_BRING_TO_FACTORY_2 (
    supplier_id NUMBER REFERENCES suppliers(supplier_id) NOT NULL,
    spare_part_id NUMBER REFERENCES spare_parts(id) NOT NULL,
    delivery_date DATE,
    quantity NUMBER CHECK(quantity > 0),
    recipient_worker_id NUMBER REFERENCES workers_factory_2(worker_id) NOT NULL
);

CREATE TABLE ROBOTS (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    model VARCHAR2(50)
);

CREATE TABLE ROBOTS_HAS_SPARE_PARTS (
    robot_id NUMBER REFERENCES robots(id),
    spare_part_id NUMBER REFERENCES spare_parts(id)
);

CREATE TABLE ROBOTS_FROM_FACTORY (
    robot_id NUMBER REFERENCES robots(id),
    factory_id NUMBER REFERENCES factories(id)
);

CREATE TABLE AUDIT_ROBOT (
    robot_id NUMBER REFERENCES robots(id),
    created_at DATE
);